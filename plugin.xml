<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   
   
   <extension
         point="org.eclipse.ui.editors">
      <editor
            name="UnrealScript Editor"
            extensions="uc"
            icon="icons/uc.png"
            contributorClass="org.eclipse.ui.texteditor.BasicTextEditorActionContributor"
            class="com.patrick_vane.unrealscript.editor.UnrealScriptEditor"
            id="patrick_vane_unrealscript_editor.editors.UnrealScriptEditor">
      </editor>
   </extension>
   
   
   <extension
	      id="patrick_vane_unrealscript_editor.markers.problem"
	      name="UnrealScript Syntax Problem"
	      point="org.eclipse.core.resources.markers">
	   <super
	         type="org.eclipse.core.resources.problemmarker">
	   </super>
	   <persistent
	         value="true">
	   </persistent>
	</extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="com.patrick_vane.unrealscript.editor.perspective.UDKPerspective"
            icon="icons/perspective.png"
            id="patrick_vane_unrealscript_editor.editors.perspective.UnrealScriptPerspective"
            name="UDK">
      </perspective>
   </extension>
   
   
   <extension
         point="org.eclipse.ui.commands">
      <category
            name="UDK"
            id="patrick_vane_unrealscript_editor.editors.commandcategory.udk">
      </category>
      <command
            categoryId="patrick_vane_unrealscript_editor.editors.commandcategory.udk"
            defaultHandler="com.patrick_vane.unrealscript.editor.perspective.handlers.ImportProject"
            description="Import Project"
            id="patrick_vane_unrealscript_editor.editors.command.import_project"
            name="Import Project">
      </command>
      <command
            categoryId="patrick_vane_unrealscript_editor.editors.commandcategory.udk"
            defaultHandler="com.patrick_vane.unrealscript.editor.perspective.handlers.CompilerSettings"
            description="Configure Compiler"
            id="patrick_vane_unrealscript_editor.editors.command.compiler_settings"
            name="Configure Compiler">
      </command>
      <command
            categoryId="patrick_vane_unrealscript_editor.editors.commandcategory.udk"
            defaultHandler="com.patrick_vane.unrealscript.editor.perspective.handlers.ExecuterSettings"
            description="Configure Executer"
            id="patrick_vane_unrealscript_editor.editors.command.executer_settings"
            name="Configure Executer">
      </command>
      <command
            categoryId="patrick_vane_unrealscript_editor.editors.commandcategory.udk"
            defaultHandler="com.patrick_vane.unrealscript.editor.perspective.handlers.RunEditor"
            description="Run Editor"
            id="patrick_vane_unrealscript_editor.editors.command.run_editor"
            name="Run Editor">
      </command>
      <command
            categoryId="patrick_vane_unrealscript_editor.editors.commandcategory.udk"
            defaultHandler="com.patrick_vane.unrealscript.editor.perspective.handlers.RunGame"
            description="Run Game"
            id="patrick_vane_unrealscript_editor.editors.command.run_game"
            name="Run Game">
      </command>
   </extension>
   
   
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="menu:org.eclipse.ui.main.menu?after=additions">
         <menu
               id="patrick_vane_unrealscript_editor.editors.menu.udk"
               label="UDK"
               tooltip="Unreal Development Kit">
            <visibleWhen
                  checkEnabled="true">
               <reference
                     definitionId="patrick_vane_unrealscript_editor.editors.perspective.definition.isUDKPerspectiveActive">
               </reference>
            </visibleWhen>
            <command
                  commandId="patrick_vane_unrealscript_editor.editors.command.import_project"
                  icon="icons/buttons/import.png"
                  style="push"
                  tooltip="Import Project">
            </command>
            <command
                  commandId="patrick_vane_unrealscript_editor.editors.command.compiler_settings"
                  icon="icons/buttons/settings_compiler.png"
                  style="push"
                  tooltip="Configure Compiler">
               <visibleWhen
                     checkEnabled="true">
                  <reference
                        definitionId="patrick_vane_unrealscript_editor.editors.perspective.definition.isUDKProjectSelected">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="patrick_vane_unrealscript_editor.editors.command.executer_settings"
                  icon="icons/buttons/settings_game.png"
                  style="push"
                  tooltip="Configure Executer">
               <visibleWhen
                     checkEnabled="true">
                  <reference
                        definitionId="patrick_vane_unrealscript_editor.editors.perspective.definition.isUDKProjectSelected">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="patrick_vane_unrealscript_editor.editors.command.run_editor"
                  icon="icons/buttons/editor.png"
                  style="push"
                  tooltip="Run Editor">
               <visibleWhen
                     checkEnabled="true">
                  <reference
                        definitionId="patrick_vane_unrealscript_editor.editors.perspective.definition.isUDKProjectSelected">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="patrick_vane_unrealscript_editor.editors.command.run_game"
                  icon="icons/buttons/game.png"
                  style="push"
                  tooltip="Run Game">
               <visibleWhen
                     checkEnabled="true">
                  <reference
                        definitionId="patrick_vane_unrealscript_editor.editors.perspective.definition.isUDKProjectSelected">
                  </reference>
               </visibleWhen>
            </command>
         </menu>
      </menuContribution>
      
      <menuContribution
            locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
         <toolbar
               id="patrick_vane_unrealscript_editor.editors.toolbar.udk"
               label="UDK">
            <command
                  commandId="patrick_vane_unrealscript_editor.editors.command.import_project"
                  icon="icons/buttons/import.png"
                  style="push"
                  tooltip="Import Project">
               <visibleWhen
                     checkEnabled="true">
                  <reference
                        definitionId="patrick_vane_unrealscript_editor.editors.perspective.definition.isUDKPerspectiveActive">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="patrick_vane_unrealscript_editor.editors.command.compiler_settings"
                  icon="icons/buttons/settings_compiler.png"
                  style="push"
                  tooltip="Configure Compiler">
               <visibleWhen
                     checkEnabled="true">
                  <reference
                        definitionId="patrick_vane_unrealscript_editor.editors.definition.isUDKPerspectiveActiveAndIsUDKProjectSelected">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="patrick_vane_unrealscript_editor.editors.command.executer_settings"
                  icon="icons/buttons/settings_game.png"
                  style="push"
                  tooltip="Configure Executer">
               <visibleWhen
                     checkEnabled="true">
                  <reference
                        definitionId="patrick_vane_unrealscript_editor.editors.definition.isUDKPerspectiveActiveAndIsUDKProjectSelected">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="patrick_vane_unrealscript_editor.editors.command.run_editor"
                  icon="icons/buttons/editor.png"
                  style="push"
                  tooltip="Run Editor">
               <visibleWhen
                     checkEnabled="true">
                  <reference
                        definitionId="patrick_vane_unrealscript_editor.editors.definition.isUDKPerspectiveActiveAndIsUDKProjectSelected">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="patrick_vane_unrealscript_editor.editors.command.run_game"
                  icon="icons/buttons/game.png"
                  style="push"
                  tooltip="Run Game">
               <visibleWhen
                     checkEnabled="true">
                  <reference
                        definitionId="patrick_vane_unrealscript_editor.editors.definition.isUDKPerspectiveActiveAndIsUDKProjectSelected">
                  </reference>
               </visibleWhen>
            </command>
          </toolbar>
       </menuContribution>
   </extension>
   
   
   <extension
         point="org.eclipse.core.expressions.propertyTesters">
      <propertyTester
            class="com.patrick_vane.unrealscript.editor.perspective.UDKPerspectiveTester"
            id="patrick_vane_unrealscript_editor.editors.perspective.UDKPerspectiveTester"
            namespace="patrick_vane_unrealscript_editor.editors.perspective.UDKPerspectiveTester"
            properties="isUDKPerspectiveActive"
            type="java.lang.Object">
      </propertyTester>
      <propertyTester
            class="com.patrick_vane.unrealscript.editor.perspective.UDKProjectActiveOrSelectedTester"
            id="patrick_vane_unrealscript_editor.editors.perspective.UDKProjectActiveOrSelectedTester"
            namespace="patrick_vane_unrealscript_editor.editors.perspective.UDKProjectActiveOrSelectedTester"
            properties="isUDKProjectSelected"
            type="java.lang.Object">
      </propertyTester>
   </extension>
   
   
   <extension point="org.eclipse.core.expressions.definitions">
	  <definition id="patrick_vane_unrealscript_editor.editors.perspective.definition.isUDKPerspectiveActive">
	    <with variable="activeWorkbenchWindow.activePerspective">
	      <test
	        forcePluginActivation="true"
	        property="patrick_vane_unrealscript_editor.editors.perspective.UDKPerspectiveTester.isUDKPerspectiveActive">
	      </test>
	    </with>
	  </definition>
   <definition
         id="patrick_vane_unrealscript_editor.editors.perspective.definition.isUDKProjectSelected">
      <with
            variable="activeWorkbenchWindow.activePerspective">
         <test
               forcePluginActivation="true"
               property="patrick_vane_unrealscript_editor.editors.perspective.UDKProjectActiveOrSelectedTester.isUDKProjectSelected">
         </test>
      </with>
   </definition>
   <definition
         id="patrick_vane_unrealscript_editor.editors.definition.isUDKPerspectiveActiveAndIsUDKProjectSelected">
      <with
            variable="activeWorkbenchWindow.activePerspective">
         <test
               forcePluginActivation="true"
               property="patrick_vane_unrealscript_editor.editors.perspective.UDKPerspectiveTester.isUDKPerspectiveActive">
         </test>
         <and></and>
         <test
               forcePluginActivation="true"
               property="patrick_vane_unrealscript_editor.editors.perspective.UDKProjectActiveOrSelectedTester.isUDKProjectSelected">
         </test>
      </with>
   </definition>
   </extension>
   <extension
         point="org.eclipse.ui.startup">
      <startup
            class="com.patrick_vane.unrealscript.editor.UnrealScriptStartup">
      </startup>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            allowMultiple="false"
            category="com.patrick_vane.unrealscript.editor.views.UDK"
            class="com.patrick_vane.unrealscript.editor.class_hierarchy.TypeHierarchyView"
            icon="icons/hierarchy.gif"
            id="com.patrick_vane.unrealscript.editor.class_hierarchy.TypeHierarchyView"
            name="Type Hierarchy"
            restorable="true">
      </view>
      <category
            id="com.patrick_vane.unrealscript.editor.views.UDK"
            name="UDK">
      </category>
   </extension>
   
   
</plugin>
